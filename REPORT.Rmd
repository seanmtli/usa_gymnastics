---
title: "Case 2: UCSAS 2024 USOPC Data Challenge"
author: "Sean Li, Christopher Tsai, Benjamin Thorpe, Jerry Xin"
date: "2023-11-06"
output: pdf_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction

The sport of artistic gymnastics has long been a source of national pride and international recognition for the United States. The breathtaking performances, grace, and unparalleled athleticism displayed by American gymnasts have not only brought numerous Olympic medals home but also served as an inspiration for generations of aspiring athletes. As we approach the next Olympic Games in Paris 2024, the need for innovation and precision in athlete selection has never been more crucial. Our goal is to predict the best five-member lineups for both the USA Men's and Women's artistic gymnastics teams, optimizing for total medal count. 

Historically, this selection process has relied heavily on the expertise and intuition of coaches and selection committees. However, in the era of data-driven decision-making, the role of predictive analytics and machine learning in the world of sports has gained unprecedented significance. The study will be of upmost significance, giving insight into lineup strategies in gymnastics and helping the USA maximize their medal count potential for the 2024 Paris Olympics. 

While some prior studies have explored the use of data analytics in sports, they often fall short in the context of artistic gymnastics. Many of these studies are limited in scope and do not consider the nuanced aspects of gymnastics performance. Also, we plan to address the fact that some apparatuses (like pommel horse) are more difficult to judge by taking these higher variances in score into account when optimizing our team (Guston, 2023) . We will explore how to mathematically account for this in our analysis.

This study aims to overcome these limitations by analyzing athlete-specific data and incorporating domain expertise from the gymnastics community. It will offer a comprehensive and customized approach that addresses the unique competition format presented by artistic gymnastics and provides the USA Olympics Committee with a robust tool to make informed and data-driven decisions.


## Methodology

### A Two Tier Approach

Treating this as an optimization problem where we are maximizing for total medal count, we have developed nuanced heuristics based off analyzing past Olympic gymnastic event results to pick our top five-person lineups. Historically, we've seen that the USA, along with most other participating countries, send a combination of all-round gymnasts and event specialists in a five person lineup. Specifically, the USA Olympic Team Selection Procedure outlines that the top 2 overall all-round gymnasts will automatically qualify for the squad and then the committee will select the other 3 to complement them. The strategy behind this is that every country would ideally like to send their 2 of their best gymnasts to compete in every event, while then having 3 specialists that would give that country the best shot at medaling. We wanted to mimic this approach, leading us to implement a two-tiered approach. First, we choose the top two overall all-round gymnasts, and then we select three more gymnasts to round out the team in an attempt to maximize medal count. 

### All Round Selection Method 
For the all-round gymnasts, we choose the two best candidates that have the simulated highest total score average across all the events they have participated in the past. Specifically, we aggregate the weighted scores across all the events a US gymnast has participated in for a competition and then take the average of their total weighted scores in each apparatus to find a composite score. 

We calculate this weight of an apparatus result by taking into account the "stage" of an apparatus (qualifier or finals) and also when the competition itself occurred. We believe a heavier weight should be placed on athletes with a history of performing better under pressure in the final rounds, and more emphasis on athletes which have great recent performances. This weighting is our attempt to measure the "clutch" factor and peak/prime performance.

For each USA gymnast, we develop an individual total score distribution of those aggregated weighted scores to account for the variance for each individual. Then we make a composite score distribution for all qualified gymnasts regardless of country who participate in all events. We simulate the composite scores 100 times to find an average "medal threshold", something we can use to attribute a medal probability per athlete. 

To find the best USA all-round gymnasts, we sample 100 times from the individual distributions to see how many of those times did this gymnast medal given the threshold, taking the top 2. 


### Specialist Selection Method
For the remaining spots, we again choose the three specialist gymnasts based on a simulation of each apparatus. We first obtain the top 24 gymnasts for a specific event per gender by aggregating a weighted score of the most recent results. Then we similarly make individual (USA athletes) distributions and grouped (all athletes) distributions per event and run the same procedure to pick the best US athletes that have the highest probability of medaling per event. 

Now, we must take into account the weaknesses and strengths of the USA gymnastics team against the competition. For example, if Japan / China have specialists that are dominant in vault and balance beam, our total medals are strategically lower if we choose to place our specialists in those events as well. Instead, we should optimize for events where it is relatively easier to place. [not sure how this will statistically work, maybe just observationally and anecdotally examining the events]

### Computing a Weighted Average for Gymnastics Data

\begin{equation}
    \text{{Weighted Average}} = \frac{{\sum_{i=1}^{n} w_i \cdot s_i}}{{\sum_{i=1}^{n} w_i}}
\end{equation}

where:
\begin{itemize}
    \item $n$ is the total number of scores,
    \item $w_i$ is the weight assigned to the $i$-th score, and
    \item $s_i$ is the actual score of the gymnast for the $i$-th competition.
\end{itemize}

In this case, you can set the weights based on whether the score is from a final round(1.5) or not(1), plus the recency of the score, where very recent (< 6 months), somewhat recent (6 - 18 months), not recent (18+ months), are weighted by a multiplier of 2, 1.5, and 1, respectively. The explanation of these weights are offered in the paragraph below. For example, if $w_i = 3.5$ for a final round score that is very recent, and $w_i = 2$ for a non-final round score that is not recent, the formula becomes:

\begin{equation}
    \text{{Weighted Average}} = \frac{{\sum_{i=1}^{n} (w_i \cdot s_i)}}{{\sum_{i=1}^{n} w_i}}
\end{equation}

This will give more importance to the scores from the final round, and scores that are more recent, in the calculation of the average.

### Weighted Average Score Distributions

For a final round performance, we multiply the score earned by 1.5. The reasoning behind this weighting is that we believe a heavier weight should be placed on athletes with a history of performing better under pressure in the final rounds, since the goal of this study is to achieve the most medals, which are only awarded to the top three performers in each event on an individual level. We then classify a performance by how recent the competition was, compared toJanuary 1st, 2024, into 3 categories: very recent (< 6 months), somewhat recent (6 - 18 months), not recent (18+ months). These three groups are weighted by a multiplier of 2, 1.5, and 1, respectively. It's important to take into account if a gymnast is at a peak performance era and simultaneously look out for younger gymnasts on the rise, which is why we incorporated this step into our selection process. We then generate each USA gymnast's distribution assuming a normal distribution of performances. This assumption is justified, as when we look at the top 10 gymnasts regardless of country across apparatuses, we see they individually have a performance score distribution that is approximately normally distributed. To obtain a probability of medaling, we find a threshold of a weighted average score that it usually takes to medal on that apparatus from compiling past results. This threshold is adjusted higher or lower based on who we predict other top countries might send. 


## Results 

## Discussion



## Appendix

### Works Cited
Gunston, Jo. “Judging the Judges – How Statistical Analysis Evaluates Fairness And ...” Olympics.Com, 19 Oct. 2023, olympics.com/en/news/how-statistical-analysis-evaluates-fairness-accuracy-gymnastics. Accessed 06 Nov. 2023.

